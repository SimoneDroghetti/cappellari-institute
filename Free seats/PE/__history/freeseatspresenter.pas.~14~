unit freeseatspresenter;

interface

uses freeseatsinterface,freeseatsmodel;

type
tseatpresenter =class
  protected
  Fseatview:Iseatview;
  public
  Constructor create(Aseatview: Iseatview);
  procedure eseguicontrollo;
end;

implementation

uses system.sysutils,system.classes;

Constructor tseatpresenter.create(Aseatview: Iseatview);
begin
  Fseatview:=Aseatview;
end;

procedure tseatpresenter.eseguicontrollo;
var Lgetval:integer;
test:tstrings;
begin

   test:=TStringList.Create;
   test.Add('prova');
   Fseatview.popolamemo(test);
 try
  lgetval:=Fseatview.Getvalue;

  DataModule1.ADOQuery1.Open;
  DataModule1.ADOQuery1.first;
 // SQLQuery1.First; // move to the first record
while(not DataModule1.ADOQuery1.EOF)do begin
   // do something with the current record
    // DataModule1.ADOQuery1.
      Fseatview.popolamemo(Tstrings(DataModule1.ADOQuery1.Fields[1].AsString));
            Fseatview.popolamemo(Tstrings(DataModule1.ADOQuery1.FieldByName('attr1').AsString));
   // move to the next record
   DataModule1.ADOQuery1.Next;
end;



 except
  lgetval:=0;
  Fseatview.DisplayMessage('Inserire Valore Numerico.');
 end;
  Fseatview.DisplayMessage('eseguo controllo');

end;

end.
